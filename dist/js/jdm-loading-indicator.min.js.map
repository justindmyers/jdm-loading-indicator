{"version":3,"sources":["js/loading-indicator.module.js","js/loading-indicator/loading-indicator-button.directive.js","jdm-loading-indicator.js","js/loading-indicator/loading-indicator-container.directive.js","js/loading-indicator/loading-indicator-inline.directive.js","js/loading-indicator/loading-indicator.directive.js","js/loading-indicator/loading-indicator.interceptor.js","js/loading-indicator/loading-indicator.provider.js","templates.js"],"names":["angular","module","LoadingIndicatorButton","LoadingIndicatorButtonController","loadingIndicator","vm","this","referenceId","initDirective","buttonClasses","indicator","directives","checkDisabled","buttonDisabled","requests","length","disableOnPendingRequest","wrapperClasses","classes","split","forEach","classname","isDarkTheme","isLoading","isDefined","indicatorPosition","position","$inject","directive","restrict","controller","controllerAs","bindToController","scope","transclude","templateUrl","LoadingIndicator","link","element","attrs","classList","add","LoadingIndicatorController","requires","GlobalLoadingIndicator","GlobalLoadingIndicatorController","LoadingIndicatorInterceptor","$q","$templateCache","request","config","checkRequest","response","checkResponse","responseError","rejection","reject","undefined","setLoadingState","method","get","url","factory","LoadingIndicatorProvider","LoadingIndicatorService","$timeout","$rootScope","service","preLoad","addLoadingState","data","total","push","$emit","x","destroy","deleteLoadingState","index","indexOf","splice","_config","isUndefined","callTimeout","threshold","setDefaultReferenceId","defaultId","setDefaultPosition","defaultPosition","setThreshold","defaultThreshold","$get","provider","run","put"],"mappings":"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","file":"jdm-loading-indicator.min.js","sourcesContent":["angular.module('jdm.loadingIndicator', [\r\n    'ngAnimate',\r\n    'ngAria'\r\n]);"," (function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicatorButton', LoadingIndicatorButton);\r\n\r\n    LoadingIndicatorButton.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicatorButton() {\r\n        // Usage: <global-loading-indicator></global-loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        var directive = {\r\n            restrict: 'E',\r\n            controller: LoadingIndicatorButtonController,\r\n            controllerAs: 'loadingIndicatorButton', \r\n            bindToController: {\r\n                buttonClasses: '@',\r\n                referenceId: '@',\r\n                isLoading: '<',\r\n                indicatorPosition: '@',\r\n                disableOnPendingRequest: '@',\r\n                buttonDisabled: '<',\r\n                isDarkTheme: '@'\r\n            },\r\n            scope: {},\r\n            transclude: true,\r\n            templateUrl: 'templates/loading-indicator-button.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function LoadingIndicatorButtonController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.buttonClasses = vm.buttonClasses || '';\r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n\r\n            vm.checkDisabled = function() {                \r\n                if(vm.buttonDisabled) {\r\n                    return true;\r\n                }\r\n                \r\n                if(vm.indicator.requests.length && vm.disableOnPendingRequest) {\r\n                    return true;\r\n                }                       \r\n            };\r\n\r\n            vm.wrapperClasses = function() {\r\n                var classes = {};\r\n\r\n                vm.buttonClasses.split(' ').forEach(function(classname) {\r\n                    classes[classname] = true;\r\n                });\r\n\r\n                if(vm.isDarkTheme) {\r\n                    classes['jdm-loading-indicator-button--dark'] = true;\r\n                }\r\n\r\n                if(vm.indicator.requests.length || vm.isLoading) {\r\n                    classes['jdm-loading-indicator-button--loading'] = true;\r\n                }\r\n\r\n                if(vm.indicator.requests.length && vm.disableOnPendingRequest || vm.buttonDisabled) {\r\n                    classes['disabled'] = true;\r\n                }\r\n                \r\n                if(angular.isDefined(vm.indicatorPosition)) {\r\n                    classes['jdm-loading-indicator-button--loading-' + vm.indicatorPosition] = true;\r\n                } else {\r\n                    classes['jdm-loading-indicator-button--loading-' + loadingIndicator.position] = true;\r\n                }\r\n                \r\n                return classes;\r\n            };\r\n        }\r\n    }\r\n})();","angular.module('jdm.loadingIndicator', [\r\n    'ngAnimate',\r\n    'ngAria'\r\n]);\n (function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicatorButton', LoadingIndicatorButton);\r\n\r\n    LoadingIndicatorButton.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicatorButton() {\r\n        // Usage: <global-loading-indicator></global-loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        LoadingIndicatorButtonController.$inject = [\"loadingIndicator\"];\r\n        var directive = {\r\n            restrict: 'E',\r\n            controller: LoadingIndicatorButtonController,\r\n            controllerAs: 'loadingIndicatorButton', \r\n            bindToController: {\r\n                buttonClasses: '@',\r\n                referenceId: '@',\r\n                isLoading: '<',\r\n                indicatorPosition: '@',\r\n                disableOnPendingRequest: '@',\r\n                buttonDisabled: '<',\r\n                isDarkTheme: '@'\r\n            },\r\n            scope: {},\r\n            transclude: true,\r\n            templateUrl: 'templates/loading-indicator-button.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function LoadingIndicatorButtonController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.buttonClasses = vm.buttonClasses || '';\r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n\r\n            vm.checkDisabled = function() {                \r\n                if(vm.buttonDisabled) {\r\n                    return true;\r\n                }\r\n                \r\n                if(vm.indicator.requests.length && vm.disableOnPendingRequest) {\r\n                    return true;\r\n                }                       \r\n            };\r\n\r\n            vm.wrapperClasses = function() {\r\n                var classes = {};\r\n\r\n                vm.buttonClasses.split(' ').forEach(function(classname) {\r\n                    classes[classname] = true;\r\n                });\r\n\r\n                if(vm.isDarkTheme) {\r\n                    classes['jdm-loading-indicator-button--dark'] = true;\r\n                }\r\n\r\n                if(vm.indicator.requests.length || vm.isLoading) {\r\n                    classes['jdm-loading-indicator-button--loading'] = true;\r\n                }\r\n\r\n                if(vm.indicator.requests.length && vm.disableOnPendingRequest || vm.buttonDisabled) {\r\n                    classes['disabled'] = true;\r\n                }\r\n                \r\n                if(angular.isDefined(vm.indicatorPosition)) {\r\n                    classes['jdm-loading-indicator-button--loading-' + vm.indicatorPosition] = true;\r\n                } else {\r\n                    classes['jdm-loading-indicator-button--loading-' + loadingIndicator.position] = true;\r\n                }\r\n                \r\n                return classes;\r\n            };\r\n        }\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicatorContainer', LoadingIndicator);\r\n\r\n    LoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicator() {\r\n        // Usage: <div loading-indicator-container></div>\r\n        //\r\n        // Creates:\r\n        //\r\n        var directive = {\r\n            restrict: 'A',\r\n            scope: {},\r\n            link: link\r\n        }; \r\n        \r\n        return directive;\r\n        \r\n        function link(scope, element, attrs) {\r\n            element[0].classList.add('jdm-loading-container');\r\n        }\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicator', LoadingIndicator);\r\n\r\n    LoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicator() {\r\n        // Usage: <loading-indicator></loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        LoadingIndicatorController.$inject = [\"loadingIndicator\"];\r\n        var directive = {\r\n            restrict: 'E',\r\n            requires: '^loadingIndicatorContainer',\r\n            controller: LoadingIndicatorController,\r\n            controllerAs: 'loadingIndicator', \r\n            bindToController: {\r\n                referenceId: '@',\r\n                isLoading: '='\r\n            },\r\n            scope: {},\r\n            templateUrl: 'templates/loading-indicator-inline.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function LoadingIndicatorController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n        }\r\n    }\r\n})();\n\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('globalLoadingIndicator', GlobalLoadingIndicator);\r\n\r\n    GlobalLoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function GlobalLoadingIndicator() {\r\n        // Usage: <global-loading-indicator></global-loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        GlobalLoadingIndicatorController.$inject = [\"loadingIndicator\"];\r\n        var directive = {\r\n            restrict: 'E',\r\n            controller: GlobalLoadingIndicatorController,\r\n            controllerAs: 'loadingIndicator', \r\n            bindToController: {\r\n                referenceId: '@',\r\n                isLoading: '='\r\n            },\r\n            scope: {},\r\n            templateUrl: 'templates/loading-indicator-global.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function GlobalLoadingIndicatorController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n        }\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .factory('loadingIndicatorInterceptor', LoadingIndicatorInterceptor);\r\n\r\n    LoadingIndicatorInterceptor.$inject = ['$q', '$templateCache', 'loadingIndicator', ];\r\n\r\n    function LoadingIndicatorInterceptor($q, $templateCache, loadingIndicator) {\r\n        return { \r\n            request: request,\r\n            response: response,\r\n            responseError: responseError \r\n        };\r\n\r\n        // Exposed Functions\r\n        function request(config) {\r\n            checkRequest(config);\r\n            return config;\r\n        }\r\n        \r\n        function response(response) {\r\n            checkResponse(response);\r\n            return response;\r\n        }\r\n        \r\n        function responseError(rejection) {\r\n            checkResponse(rejection);\r\n            return $q.reject(rejection);\r\n        }\r\n        \r\n        // Internal Functions\r\n        function checkResponse(response) {\r\n            if (response !== undefined) {\r\n                loadingIndicator.setLoadingState(false, response.config);\r\n            }\r\n        }\r\n\r\n        function checkRequest(config) {\r\n            // If the request is a get and the request url is not in $templateCache\r\n            if (config.method === 'GET' || config.method === 'JSONP') {\r\n                if ($templateCache.get(config.url) === undefined) {\r\n                    loadingIndicator.setLoadingState(true, config);\r\n                }\r\n            } else {\r\n                loadingIndicator.setLoadingState(true, config);\r\n            }\r\n        }  \r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .provider('loadingIndicator', LoadingIndicatorProvider);\r\n        \r\n    function LoadingIndicatorProvider() {\r\n        var referenceId = 0,\r\n            threshold = 100,\r\n            position = 'left';\r\n            \r\n        this.setDefaultReferenceId = function(defaultId) {\r\n            referenceId = defaultId;\r\n        };\r\n        \r\n        this.setDefaultPosition = function(defaultPosition) {\r\n            position = defaultPosition;\r\n        };\r\n        \r\n        this.setThreshold = function(defaultThreshold) {\r\n            threshold = defaultThreshold;\r\n        };\r\n\r\n        this.$get = LoadingIndicatorService;\r\n        \r\n        LoadingIndicatorService.$inject = ['$timeout', '$rootScope'];\r\n        \r\n        function LoadingIndicatorService($timeout, $rootScope) {            \r\n            var service = {\r\n                directives: {},\r\n                position: position,\r\n                initDirective: initDirective,\r\n                addLoadingState: addLoadingState,\r\n                deleteLoadingState: deleteLoadingState,\r\n                setLoadingState: setLoadingState\r\n            };\r\n            \r\n            return service;\r\n            \r\n            // Exposed Functions\r\n            function initDirective(referenceId) {\r\n                service.directives[referenceId] = service.directives[referenceId] || preLoad(referenceId);\r\n        \r\n                return service.directives[referenceId];\r\n            }\r\n            \r\n            function addLoadingState(data) {\r\n                var directive = service.directives[data.referenceId] || preLoad(data.referenceId);\r\n\r\n                if (data.isLoading) {\r\n                    if (typeof directive.requests === 'undefined') {\r\n                        directive.total = 0;\r\n                        directive.requests = [];\r\n                    }\r\n\r\n                    directive.total++;\r\n                    directive.requests.push(data);\r\n                    \r\n                    //Check by referenceID for broadcasts\r\n                    if(directive.requests.length === 1) {\r\n                        $rootScope.$emit('loadingIndicator:started', data);\r\n                    }\r\n                } else {\r\n                    for (var x = 0; x < directive.requests.length; x++) {\r\n                        //if the url's and referenceId's match, delete it\r\n                        if (directive.requests[x].url === data.url && directive.requests[x].referenceId === data.referenceId) {\r\n                            //We only want to destroy one request at a time, so break after\r\n                            directive.requests[x].destroy();\r\n                            directive.total--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return data;\r\n            }\r\n\r\n            function deleteLoadingState(data) {\r\n                var requests = service.directives[data.referenceId].requests;\r\n                var index = requests.indexOf(data);\r\n                \r\n                if (index > -1) {\r\n                    requests.splice(index, 1);\r\n                }\r\n                \r\n                if(requests.length === 0) {\r\n                    $rootScope.$emit('loadingIndicator:stopped', data);\r\n                }\r\n            }\r\n            \r\n            function setLoadingState(isLoading, config) {\r\n                var _config = config || {};\r\n                \r\n                if (angular.isUndefined(isLoading)) {\r\n                    return;\r\n                }\r\n\r\n                var data = {\r\n                    isLoading: isLoading,\r\n                    url: _config.url,\r\n                    position: _config.position || position,\r\n                    referenceId: _config.referenceId || referenceId,\r\n                    destroy: function() {\r\n                        deleteLoadingState(data);\r\n                    },\r\n                    callTimeout: function() {\r\n                        // Go ahead and remove the call if it passes a certain timeout\r\n                        $timeout(function() {\r\n                            deleteLoadingState(data);\r\n                        }, 10000);\r\n                    }\r\n                };\r\n\r\n                data.callTimeout();\r\n\r\n                return addLoadingState(data);\r\n            }\r\n            \r\n            function preLoad(referenceId) {\r\n                service.directives[referenceId] = {\r\n                    requests: [],\r\n                    total: 0\r\n                };\r\n                \r\n                return service.directives[referenceId];\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n})();\nangular.module(\"jdm.loadingIndicator\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"templates/loading-indicator-button.tpl.html\",\"<button type=\\\"button\\\" class=\\\"jdm-loading-container jdm-loading-indicator-button\\\" ng-disabled=\\\"loadingIndicatorButton.checkDisabled()\\\" ng-class=\\\"loadingIndicatorButton.wrapperClasses()\\\"> \\r\\n    <span class=\\\"jdm-loading-indicator-button__wrapper\\\">\\r\\n        <span class=\\\"jdm-loading jdm-loading--button\\\" ng-if=\\\"loadingIndicatorButton.isLoading || loadingIndicatorButton.indicator.requests.length\\\"> \\r\\n            <i class=\\\"jdm-loading__spinner jdm-loading__spinner--button\\\"></i>\\r\\n        </span>\\r\\n        \\r\\n        <span class=\\\"jdm-loading-indicator-button__content\\\" ng-transclude></span>\\r\\n    </span>\\r\\n</button>\");\n$templateCache.put(\"templates/loading-indicator-global.tpl.html\",\"<span class=\\\"jdm-loading jdm-loading--global\\\" ng-if=\\\"loadingIndicator.isLoading || loadingIndicator.indicator.requests.length\\\">\\r\\n    <i class=\\\"jdm-loading__spinner jdm-loading__spinner--global\\\"></i> \\r\\n</span>\");\n$templateCache.put(\"templates/loading-indicator-inline.tpl.html\",\"<span class=\\\"jdm-loading jdm-loading--inline\\\" ng-if=\\\"loadingIndicator.isLoading || loadingIndicator.indicator.requests.length\\\">\\r\\n    <i class=\\\"jdm-loading__spinner jdm-loading__spinner--inline\\\"></i> \\r\\n</span>\");\n$templateCache.put(\"templates/loading-indicator-progress.tpl.html\",\"<span class=\\\"loading-container\\\"> \\r\\n     <span class=\\\"loading-item\\\"> \\r\\n         <progress max=\\\"{{ jdmLoadingService.directives[referenceId].total }}\\\" value=\\\"{{ jdmLoadingService.directives[referenceId].total - jdmLoadingService.directives[referenceId].messages.length }}\\\"></progress> \\r\\n     </span>\\r\\n</span>\\r\\n\");}]);","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicatorContainer', LoadingIndicator);\r\n\r\n    LoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicator() {\r\n        // Usage: <div loading-indicator-container></div>\r\n        //\r\n        // Creates:\r\n        //\r\n        var directive = {\r\n            restrict: 'A',\r\n            scope: {},\r\n            link: link\r\n        }; \r\n        \r\n        return directive;\r\n        \r\n        function link(scope, element, attrs) {\r\n            element[0].classList.add('jdm-loading-container');\r\n        }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('loadingIndicator', LoadingIndicator);\r\n\r\n    LoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function LoadingIndicator() {\r\n        // Usage: <loading-indicator></loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        var directive = {\r\n            restrict: 'E',\r\n            requires: '^loadingIndicatorContainer',\r\n            controller: LoadingIndicatorController,\r\n            controllerAs: 'loadingIndicator', \r\n            bindToController: {\r\n                referenceId: '@',\r\n                isLoading: '='\r\n            },\r\n            scope: {},\r\n            templateUrl: 'templates/loading-indicator-inline.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function LoadingIndicatorController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n        }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .directive('globalLoadingIndicator', GlobalLoadingIndicator);\r\n\r\n    GlobalLoadingIndicator.$inject = ['loadingIndicator'];\r\n    \r\n    function GlobalLoadingIndicator() {\r\n        // Usage: <global-loading-indicator></global-loading-indicator>\r\n        //\r\n        // Creates:\r\n        //\r\n        var directive = {\r\n            restrict: 'E',\r\n            controller: GlobalLoadingIndicatorController,\r\n            controllerAs: 'loadingIndicator', \r\n            bindToController: {\r\n                referenceId: '@',\r\n                isLoading: '='\r\n            },\r\n            scope: {},\r\n            templateUrl: 'templates/loading-indicator-global.tpl.html',\r\n        }; \r\n        \r\n        return directive;\r\n             \r\n        /* @ngInject */\r\n        function GlobalLoadingIndicatorController (loadingIndicator) {\r\n            var vm = this;\r\n            var referenceId = vm.referenceId || 0;\r\n\r\n            loadingIndicator.initDirective(referenceId);\r\n            \r\n            vm.indicator = loadingIndicator.directives[referenceId];\r\n        }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .factory('loadingIndicatorInterceptor', LoadingIndicatorInterceptor);\r\n\r\n    LoadingIndicatorInterceptor.$inject = ['$q', '$templateCache', 'loadingIndicator', ];\r\n\r\n    function LoadingIndicatorInterceptor($q, $templateCache, loadingIndicator) {\r\n        return { \r\n            request: request,\r\n            response: response,\r\n            responseError: responseError \r\n        };\r\n\r\n        // Exposed Functions\r\n        function request(config) {\r\n            checkRequest(config);\r\n            return config;\r\n        }\r\n        \r\n        function response(response) {\r\n            checkResponse(response);\r\n            return response;\r\n        }\r\n        \r\n        function responseError(rejection) {\r\n            checkResponse(rejection);\r\n            return $q.reject(rejection);\r\n        }\r\n        \r\n        // Internal Functions\r\n        function checkResponse(response) {\r\n            if (response !== undefined) {\r\n                loadingIndicator.setLoadingState(false, response.config);\r\n            }\r\n        }\r\n\r\n        function checkRequest(config) {\r\n            // If the request is a get and the request url is not in $templateCache\r\n            if (config.method === 'GET' || config.method === 'JSONP') {\r\n                if ($templateCache.get(config.url) === undefined) {\r\n                    loadingIndicator.setLoadingState(true, config);\r\n                }\r\n            } else {\r\n                loadingIndicator.setLoadingState(true, config);\r\n            }\r\n        }  \r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('jdm.loadingIndicator')\r\n        .provider('loadingIndicator', LoadingIndicatorProvider);\r\n        \r\n    function LoadingIndicatorProvider() {\r\n        var referenceId = 0,\r\n            threshold = 100,\r\n            position = 'left';\r\n            \r\n        this.setDefaultReferenceId = function(defaultId) {\r\n            referenceId = defaultId;\r\n        };\r\n        \r\n        this.setDefaultPosition = function(defaultPosition) {\r\n            position = defaultPosition;\r\n        };\r\n        \r\n        this.setThreshold = function(defaultThreshold) {\r\n            threshold = defaultThreshold;\r\n        };\r\n\r\n        this.$get = LoadingIndicatorService;\r\n        \r\n        LoadingIndicatorService.$inject = ['$timeout', '$rootScope'];\r\n        \r\n        function LoadingIndicatorService($timeout, $rootScope) {            \r\n            var service = {\r\n                directives: {},\r\n                position: position,\r\n                initDirective: initDirective,\r\n                addLoadingState: addLoadingState,\r\n                deleteLoadingState: deleteLoadingState,\r\n                setLoadingState: setLoadingState\r\n            };\r\n            \r\n            return service;\r\n            \r\n            // Exposed Functions\r\n            function initDirective(referenceId) {\r\n                service.directives[referenceId] = service.directives[referenceId] || preLoad(referenceId);\r\n        \r\n                return service.directives[referenceId];\r\n            }\r\n            \r\n            function addLoadingState(data) {\r\n                var directive = service.directives[data.referenceId] || preLoad(data.referenceId);\r\n\r\n                if (data.isLoading) {\r\n                    if (typeof directive.requests === 'undefined') {\r\n                        directive.total = 0;\r\n                        directive.requests = [];\r\n                    }\r\n\r\n                    directive.total++;\r\n                    directive.requests.push(data);\r\n                    \r\n                    //Check by referenceID for broadcasts\r\n                    if(directive.requests.length === 1) {\r\n                        $rootScope.$emit('loadingIndicator:started', data);\r\n                    }\r\n                } else {\r\n                    for (var x = 0; x < directive.requests.length; x++) {\r\n                        //if the url's and referenceId's match, delete it\r\n                        if (directive.requests[x].url === data.url && directive.requests[x].referenceId === data.referenceId) {\r\n                            //We only want to destroy one request at a time, so break after\r\n                            directive.requests[x].destroy();\r\n                            directive.total--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return data;\r\n            }\r\n\r\n            function deleteLoadingState(data) {\r\n                var requests = service.directives[data.referenceId].requests;\r\n                var index = requests.indexOf(data);\r\n                \r\n                if (index > -1) {\r\n                    requests.splice(index, 1);\r\n                }\r\n                \r\n                if(requests.length === 0) {\r\n                    $rootScope.$emit('loadingIndicator:stopped', data);\r\n                }\r\n            }\r\n            \r\n            function setLoadingState(isLoading, config) {\r\n                var _config = config || {};\r\n                \r\n                if (angular.isUndefined(isLoading)) {\r\n                    return;\r\n                }\r\n\r\n                var data = {\r\n                    isLoading: isLoading,\r\n                    url: _config.url,\r\n                    position: _config.position || position,\r\n                    referenceId: _config.referenceId || referenceId,\r\n                    destroy: function() {\r\n                        deleteLoadingState(data);\r\n                    },\r\n                    callTimeout: function() {\r\n                        // Go ahead and remove the call if it passes a certain timeout\r\n                        $timeout(function() {\r\n                            deleteLoadingState(data);\r\n                        }, 10000);\r\n                    }\r\n                };\r\n\r\n                data.callTimeout();\r\n\r\n                return addLoadingState(data);\r\n            }\r\n            \r\n            function preLoad(referenceId) {\r\n                service.directives[referenceId] = {\r\n                    requests: [],\r\n                    total: 0\r\n                };\r\n                \r\n                return service.directives[referenceId];\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n})();","angular.module(\"jdm.loadingIndicator\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"templates/loading-indicator-button.tpl.html\",\"<button type=\\\"button\\\" class=\\\"jdm-loading-container jdm-loading-indicator-button\\\" ng-disabled=\\\"loadingIndicatorButton.checkDisabled()\\\" ng-class=\\\"loadingIndicatorButton.wrapperClasses()\\\"> \\r\\n    <span class=\\\"jdm-loading-indicator-button__wrapper\\\">\\r\\n        <span class=\\\"jdm-loading jdm-loading--button\\\" ng-if=\\\"loadingIndicatorButton.isLoading || loadingIndicatorButton.indicator.requests.length\\\"> \\r\\n            <i class=\\\"jdm-loading__spinner jdm-loading__spinner--button\\\"></i>\\r\\n        </span>\\r\\n        \\r\\n        <span class=\\\"jdm-loading-indicator-button__content\\\" ng-transclude></span>\\r\\n    </span>\\r\\n</button>\");\n$templateCache.put(\"templates/loading-indicator-global.tpl.html\",\"<span class=\\\"jdm-loading jdm-loading--global\\\" ng-if=\\\"loadingIndicator.isLoading || loadingIndicator.indicator.requests.length\\\">\\r\\n    <i class=\\\"jdm-loading__spinner jdm-loading__spinner--global\\\"></i> \\r\\n</span>\");\n$templateCache.put(\"templates/loading-indicator-inline.tpl.html\",\"<span class=\\\"jdm-loading jdm-loading--inline\\\" ng-if=\\\"loadingIndicator.isLoading || loadingIndicator.indicator.requests.length\\\">\\r\\n    <i class=\\\"jdm-loading__spinner jdm-loading__spinner--inline\\\"></i> \\r\\n</span>\");\n$templateCache.put(\"templates/loading-indicator-progress.tpl.html\",\"<span class=\\\"loading-container\\\"> \\r\\n     <span class=\\\"loading-item\\\"> \\r\\n         <progress max=\\\"{{ jdmLoadingService.directives[referenceId].total }}\\\" value=\\\"{{ jdmLoadingService.directives[referenceId].total - jdmLoadingService.directives[referenceId].messages.length }}\\\"></progress> \\r\\n     </span>\\r\\n</span>\\r\\n\");}]);"]}