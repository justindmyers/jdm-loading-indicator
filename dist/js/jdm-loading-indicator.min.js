angular.module("jdm.loadingIndicator",["ngAnimate","ngAria"]),function(){"use strict";function n(){function n(n){var i=this,t=i.referenceId||0;n.initDirective(t),i.buttonClasses=i.buttonClasses||"",i.indicator=n.directives[t],i.checkDisabled=function(){return i.buttonDisabled?!0:i.indicator.requests.length&&i.disableOnPendingRequest?!0:void 0},i.wrapperClasses=function(){var t={};return i.buttonClasses.split(" ").forEach(function(n){t[n]=!0}),i.isDarkTheme&&(t["jdm-loading-indicator-button--dark"]=!0),(i.indicator.requests.length||i.isLoading)&&(t["jdm-loading-indicator-button--loading"]=!0),(i.indicator.requests.length&&i.disableOnPendingRequest||i.buttonDisabled)&&(t.disabled=!0),angular.isDefined(i.indicatorPosition)?t["jdm-loading-indicator-button--loading-"+i.indicatorPosition]=!0:t["jdm-loading-indicator-button--loading-"+n.position]=!0,t}}n.$inject=["loadingIndicator"];var i={restrict:"E",controller:n,controllerAs:"loadingIndicatorButton",bindToController:{buttonClasses:"@",referenceId:"@",isLoading:"<",indicatorPosition:"@",disableOnPendingRequest:"@",buttonDisabled:"<",isDarkTheme:"@"},scope:{},transclude:!0,templateUrl:"templates/loading-indicator-button.tpl.html"};return i}angular.module("jdm.loadingIndicator").directive("loadingIndicatorButton",n),n.$inject=["loadingIndicator"]}(),function(){"use strict";function n(){function n(n,i,t){i[0].classList.add("jdm-loading-container")}var i={restrict:"A",scope:{},link:n};return i}angular.module("jdm.loadingIndicator").directive("loadingIndicatorContainer",n),n.$inject=["loadingIndicator"]}(),function(){"use strict";function n(){function n(n){var i=this,t=i.referenceId||0;n.initDirective(t),i.indicator=n.directives[t]}n.$inject=["loadingIndicator"];var i={restrict:"E",requires:"^loadingIndicatorContainer",controller:n,controllerAs:"loadingIndicator",bindToController:{referenceId:"@",isLoading:"="},scope:{},templateUrl:"templates/loading-indicator-inline.tpl.html"};return i}angular.module("jdm.loadingIndicator").directive("loadingIndicator",n),n.$inject=["loadingIndicator"]}(),function(){"use strict";function n(){function n(n){var i=this,t=i.referenceId||0;n.initDirective(t),i.indicator=n.directives[t]}n.$inject=["loadingIndicator"];var i={restrict:"E",controller:n,controllerAs:"loadingIndicator",bindToController:{referenceId:"@",isLoading:"="},scope:{},templateUrl:"templates/loading-indicator-global.tpl.html"};return i}angular.module("jdm.loadingIndicator").directive("globalLoadingIndicator",n),n.$inject=["loadingIndicator"]}(),function(){"use strict";function n(n,i,t){function e(n){return d(n),n}function o(n){return r(n),n}function a(i){return r(i),n.reject(i)}function r(n){void 0!==n&&t.setLoadingState(!1,n.config)}function d(n){"GET"===n.method?void 0===i.get(n.url)&&t.setLoadingState(!0,n):t.setLoadingState(!0,n)}return{request:e,response:o,responseError:a}}angular.module("jdm.loadingIndicator").factory("loadingIndicatorInterceptor",n),n.$inject=["$q","$templateCache","loadingIndicator"]}(),function(){"use strict";function n(){function n(n,t){function o(n){return l.directives[n]=l.directives[n]||s(n),l.directives[n]}function a(n){var i=l.directives[n.referenceId]||s(n.referenceId);if(n.isLoading)"undefined"==typeof i.requests&&(i.total=0,i.requests=[]),i.total++,i.requests.push(n),1===i.requests.length&&t.$emit("loadingIndicator:started",n);else for(var e=0;e<i.requests.length;e++)if(i.requests[e].url===n.url&&i.requests[e].referenceId===n.referenceId){i.requests[e].destroy(),i.total--;break}return n}function r(n){var i=l.directives[n.referenceId].requests,e=i.indexOf(n);e>-1&&i.splice(e,1),0===i.length&&t.$emit("loadingIndicator:stopped",n)}function d(n,t){var o=t||{};if(!angular.isUndefined(n)){var d={isLoading:n,url:o.url,position:o.position||e,referenceId:o.referenceId||i,destroy:function(){r(d)}};return a(d)}}function s(n){return l.directives[n]={requests:[],total:0},l.directives[n]}var l={directives:{},position:e,initDirective:o,addLoadingState:a,deleteLoadingState:r,setLoadingState:d};return l}var i=0,t=100,e="left";this.setDefaultReferenceId=function(n){i=n},this.setDefaultPosition=function(n){e=n},this.setThreshold=function(n){t=n},this.$get=n,n.$inject=["$timeout","$rootScope"]}angular.module("jdm.loadingIndicator").provider("loadingIndicator",n)}(),angular.module("jdm.loadingIndicator").run(["$templateCache",function(n){n.put("templates/loading-indicator-button.tpl.html",'<button type="button" class="jdm-loading-container jdm-loading-indicator-button" ng-disabled="loadingIndicatorButton.checkDisabled()" ng-class="loadingIndicatorButton.wrapperClasses()"> \n    <span class="jdm-loading-indicator-button__wrapper">\n        <span class="jdm-loading jdm-loading--button" ng-if="loadingIndicatorButton.isLoading || loadingIndicatorButton.indicator.requests.length"> \n            <i class="jdm-loading__spinner jdm-loading__spinner--button"></i>\n        </span>\n        \n        <span class="jdm-loading-indicator-button__content" ng-transclude></span>\n    </span>\n</button>'),n.put("templates/loading-indicator-global.tpl.html",'<span class="jdm-loading jdm-loading--global" ng-if="loadingIndicator.isLoading || loadingIndicator.indicator.requests.length">\n    <i class="jdm-loading__spinner jdm-loading__spinner--global"></i> \n</span>'),n.put("templates/loading-indicator-inline.tpl.html",'<span class="jdm-loading jdm-loading--inline" ng-if="loadingIndicator.isLoading || loadingIndicator.indicator.requests.length">\n    <i class="jdm-loading__spinner jdm-loading__spinner--inline"></i> \n</span>'),n.put("templates/loading-indicator-progress.tpl.html",'<span class="loading-container"> \n     <span class="loading-item"> \n         <progress max="{{ jdmLoadingService.directives[referenceId].total }}" value="{{ jdmLoadingService.directives[referenceId].total - jdmLoadingService.directives[referenceId].messages.length }}"></progress> \n     </span>\n</span>\n')}]);
//# sourceMappingURL=jdm-loading-indicator.min.js.map
